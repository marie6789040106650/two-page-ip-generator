---
inclusion: always
---

# 代码修改规则

## 修改原则
1. **最小化影响**: 只修改明确要求的文件和功能
2. **保持兼容性**: 不要破坏现有的API和接口
3. **渐进式修改**: 大的修改要分步骤进行

## 修改限制
- 除非明确要求，不要修改类型定义文件 (lib/types.ts)
- 不要自动修改所有使用某个组件的地方
- 不要修改测试文件，除非明确要求
- 不要修改配置文件 (next.config.js, tailwind.config.js等)

## 修改前确认
在进行修改前，请确认：
1. 修改的具体范围
2. 是否需要保持向后兼容
3. 是否需要同时更新相关文档

## 安全修改模式
- 优先使用新增而非修改现有代码
- 使用可选参数而非必需参数
- 保留旧的API作为deprecated，而不是直接删除